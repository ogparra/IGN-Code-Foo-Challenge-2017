<!DOCTYPE html>
<html>
<head>
<!-- Jquert CDN -->

<style type="text/css">
#wrapper {
    width: 450px;
    height: 450px;
    margin-top: 30px; 
    margin-left: auto;
    margin-right: auto;
    background: #000000;
}
.row {
    width: auto;
    height: 12.5px;
    background: #313131;
}
.square {
    width: 50px;
    height: 50px;
    margin: 0px;
    outline: 1px solid;
    display: inline-block;
    float: left;
    background: #FFFFFF;
    font-size: 35px;
    text-align: center;
}
</style>



<script       src="https://code.jquery.com/jquery-3.1.1.min.js"
			  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
			  crossorigin="anonymous"></script>
</head>
<body>
	<p> Please enter the value of n, such that 0 <= n <= 9. <br> <span style="font-weight: bold;"> Please refresh the webpage before trying another value</span></p>
	<input id="grid_size"></input>
	<button onclick="get_grid_size()"> Submit </button> 
	<div id="wrapper"></div>
</body>
	<footer>
		<script type="text/javascript">
		//Defined global variables row and square


		var $row = $("<div />", {
			    class: 'row'
			});
			
		var $square = $("<div />", {
		    class: 'square'
		});

		function randNum(){
			return (Math.floor((Math.random() * 10))).toString();
		}

		function get_grid_size(){
			var n = parseInt($("#grid_size").val());

			create_grid(n);
		}

		function create_grid(n){
			/* Set size of grid depending on value of n given by user */ 


		var arrayList = new Array(n + 2);
		for (var i = 0; i < n +2; i++) {
			arrayList[i] = new Array(n + 2);
		}

		if(n == 0){
			$("#wrapper").width(0).height(0);
		}else if( n == 1){
			$("#wrapper").width(50).height(50);
		}else if( n == 2){
			$("#wrapper").width(100).height(100);
		}else if( n == 3){
			$("#wrapper").width(150).height(150);
		}else if( n == 4){
			$("#wrapper").width(200).height(200);
		}else if( n == 5){
			$("#wrapper").width(250).height(250);
		}else if( n == 6){
			$("#wrapper").width(300).height(300);
		}else if( n == 7){
			$("#wrapper").width(350).height(350);
		}else if( n == 8){
			$("#wrapper").width(400).height(400);
		}else if( n == 9){
			$("#wrapper").width(450).height(450);
		}

		var rows = n;
		var columns = n;
		var numbers = [];

		// generate random numbers for each grid point
		for(i = 1; i <= n*n; i++){
			numbers[i] = randNum();
		}

			 //add columns to the the temp row object
		$(document).ready(function () {


		    for (var i = 0; i < columns; i++) {
		    	//console.log("inside first for loop");
		        $row.append($square.clone());
		    }
		    //clone the temp row object with the columns to the wrapper
		    for (var i = 0; i < rows; i++) {
		        $("#wrapper").append($row.clone());
		    }

		    // add unique id to each index
		    $('.square').each(function(x) {
		    	//start at index 1;
		    	 x = x + 1;
    			$(this).attr('id', 'id-' + x);
    			$(this).text(numbers[x]);
			});

		  });


	 	create_array_list(arrayList, numbers, n);
		}



		function create_array_list(arrayList, numbers, n){
			var x = 1;
			var adjMatrix = new Array(n);



			// adding -1 to matrix border 
			for(var i = 0; i < n + 2 ; i++){
				for(var j = 0; j < n + 2; j++){
					if(i == 0 || i == n + 1){
						arrayList[i][j] = -1;
					}else if( j == 0 || j == n + 1){
						arrayList[i][j] = -1;
					}else{
						arrayList[i][j] = parseInt(numbers[x]);
						x = x + 1; 
					}
				}
			}
			// Now we have numbers in 2x2 array and we can search through array to look for vertex adjacency
						
			//creating adjMatrix
			var count = 0;
			for(var i=1; i < n+1; i++){
				for(var j=1; j < n+1; j++){
					adjMatrix[count] = findingNeighbors(arrayList, i, j, n);
					count = count + 1;
				}
			} 
			
			for(var i = 0; i < n * n ; i++){
				for( var j = 0; j < n * n ; j++){
			  		console.log(adjMatrix[i][j]);
			  	}
			  	console.log("AFTER print");
			}
			

			//this 4 will check for adjacency for first index in adjMatrix array
			arrayValue(adjMatrix, arrayList, 8);

			/*
			adjIdx = 0; 
			for(var i = 1; i < n + 1; i++){
				for(var j = 1; j < n +1; j++ ){
					var path = [];
					findPaths(adjMatrix, arrayList, path, n*n, i, j, adjIdx, idx);
					adjIdx = adjIdx + 1;
				}	
			}
			*/ 
		}

		//will return array where indices store adjacent vertices
		function findingNeighbors(myArray, i, j, n) {
		  var count = 0;
		  var neighbors_array = new Array(n * n);
		  var rowLimit = Object.keys(myArray).length-1;
		  var columnLimit = Object.keys(myArray[0]).length-1;

			for(var x = Math.max(0, i-1); x <= Math.min(i+1, rowLimit); x++) {
			    for(var y = Math.max(0, j-1); y <= Math.min(j+1, columnLimit); y++) {
			      if(x !== i || y !== j) {
			      	console.log("value of x and y = "+ x + " "+y);
			      	console.log(myArray[x][y]);
			      	neighbors_array[count] = myArray[x][y];
			      	count = count + 1;
			      }else {
			      	//vertex we are looking at 
			      	neighbors_array[count] = -1; 
			      	count = count + 1;
			      }
			    } 
			}

			return neighbors_array;
		}


		/*
		// find paths of specific length 
		function findPaths(adjMatrix, arrayList, path, pathWeight, x, y, adjIdx, idx){
		var curpath = path; // set curpath to the current path 
		var tempArray = adjMatrix // we mark the value in the adjMatrix to negative one if we have already seen the seen the value stored in the cell
			if (curValue() == pathWeight){
				for(i = 0; i < Object.keys(curpath).length; i++){
					console.log(curpath[i]);
				}
				return;
			}if(tempArray[x][y] == -1){
				//current node is marked in the path do not add
				return
			}if(curValue() > pathWeight){
				return
			}	

			//place value in array list inside the curpath // have to pass in the value of i 
			curpath[idx] = tempArray[x][y]; 
			tempArray[x][y] = -1;

			// there is less than pathWeight nodes in the graph to add to the path 
			for(var i = 0; i < pathWeight; i++){
				if(adjMatrix[adjIdx][i] != -1){
					// i have the the array index is 5 for the next neighbor, how do I get new array index in the 
					findPaths(adjMatrix, tempArray, curpath, pathWeight, adjIdx, i, adjIdx, idx);
			}
		}



		function curValue(){
			var value = 0; 
			for(i = 0; i < Object.keys(curpath).length; i++){
				value += curpath[i];
			}
			return value;
		}
		
		/*
		list curpath := {}
		int dest, maxlen
		def findPaths (curNode, dist):
		    if curNode = dest:
		        print curpath
		        return
		    if curNode is marked:
		        return
		    if dist > maxlen:
		        return
		    add curNode to curpath
		    mark curNode
		    for nextNode, edgeDist adjacent to curNode:
		        findPaths(nextNode, dist + edgeDist)
		    remove last element of curpath
		*/




		
		function arrayValue(adjMatrix, arrayList, i){
			console.log("\n \n \n \n \n \n \n \n");
			//console.log("The adjacent matrix is: "+ adjMatrix[i][j]+" the value for the matrix cell: "+ arrayList[i+1][j+1] + " the array indices are: " + i+1 +" "+ j+1)
			if (i < 3){
				console.log("IAM A PRINTER");
				for(var x = 1; x < Object.keys(adjMatrix).length +1; x++){
					if( (adjMatrix[i][x-1] != -1) && (x < 4) ){
						//  do nothing all values are -1 in arrayList
					}else if((adjMatrix[i][x-1] != -1) && (x < 7)){
						if( i == 0){
							console.log(adjMatrix[i][x-1]+ " the array indices are: " + Math.floor((x-1)/3) +" " + parseInt(x-4));
						}else if(i == 1){
							console.log(adjMatrix[i][x-1]+ " the array indices are: " + Math.floor((x-1)/3) +" " + parseInt(x-3));
						}else if(i== 2){
							console.log(adjMatrix[i][x-1]+ " the array indices are: " + Math.floor((x-1)/3) +" " + parseInt(x-2));
						}
					}else if((adjMatrix[i][x-1] != -1) && (x < 10)){
						if(i == 0){
							console.log(adjMatrix[i][x-1]+ " the array indices are: " + Math.floor((x-1)/3) +" "+ parseInt(x-7) );
						}else if(i==1){
							console.log(adjMatrix[i][x-1]+ " the array indices are: " + Math.floor((x-1)/3) +" "+ parseInt(x-6) );
						}else if(i==2){
							console.log(adjMatrix[i][x-1]+ " the array indices are: " + Math.floor((x-1)/3) +" "+ parseInt(x-5));
						}
					}
				}
			}else if( (i => 3) && (i < 6)){
				for(var x = 1; x < Object.keys(adjMatrix).length +1; x++){
					if( (adjMatrix[i][x-1] != -1) && (x < 4) ){
						if(i == 3){
							console.log(adjMatrix[i][x-1]+ " the array indices are: " + Math.ceil(x/3) +" "+ parseInt(x-1) );
						}else if ( i == 4){
							console.log(adjMatrix[i][x-1]+ " the array indices are: " + Math.ceil((x)/3) +" "+ parseInt(x));
						}else if( i == 5){
							console.log(adjMatrix[i][x-1]+ " the array indices are: " + Math.ceil(x/3) +" "+ parseInt(x+1) );
						}

					}else if((adjMatrix[i][x-1] != -1) && (x < 7)){
						if(i == 3 ){
							console.log(adjMatrix[i][x-1]+ " the array indices are: " + Math.ceil(x/3) +" "+ parseInt(x-4));
						}else if( i == 4){
							console.log(adjMatrix[i][x-1]+ " the array indices are: " + Math.floor((x+2)/3) +" " + parseInt(x-3));
						}else if( i == 5){
							console.log(adjMatrix[i][x-1]+ " the array indices are: " + Math.ceil(x/3) +" "+ parseInt(x-2));
						}
					}else if((adjMatrix[i][x-1] != -1) && (x < 10)){
						if(i == 3 ){
							console.log(adjMatrix[i][x-1]+ " the array indices are: " + Math.ceil(x/3) +" "+ parseInt(x-7));
						}else if( i == 4){
							console.log(adjMatrix[i][x-1]+ " the array indices are: " + Math.floor((x+2)/3) +" "+ parseInt(x-6));
						}else if( i == 5){
							console.log(adjMatrix[i][x-1]+ " the array indices are: " + Math.ceil(x/3) +" "+ parseInt(x-5));
						}

					}
				}
			}else if( (i => 6) && i < 9){
				for(var x = 1; x < Object.keys(adjMatrix).length +1; x++){
					if( (adjMatrix[i][x-1] != -1) && (x < 4) ){
						if( i == 6){
							console.log(adjMatrix[i][x-1]+ " the array indices are: " + Math.ceil((x+3)/3) +" "+ parseInt(x-1) );
						}else if( i == 7){
							console.log(adjMatrix[i][x-1]+ " the array indices are: " + Math.ceil((x+3)/3) +" "+ parseInt(x) );
						}else if( i == 8){
							console.log(adjMatrix[i][x-1]+ " the array indices are: " + Math.ceil((x+3)/3) +" "+ parseInt(x+1) );
						}
					}else if((adjMatrix[i][x-1] != -1) && (x < 7)){
						if( i == 6){
							console.log(adjMatrix[i][x-1]+ " the array indices are: " + Math.ceil((x+3)/3) +" "+ parseInt(x-4));
						}else if( i == 7){
							console.log(adjMatrix[i][x-1]+ " the array indices are: " + Math.ceil((x+3)/3) +" "+ parseInt(x-3));
						}else if( i == 8){
							console.log(adjMatrix[i][x-1]+ " the array indices are: " + Math.ceil((x+3)/3) +" "+ parseInt(x-2));
						}

					}else if((adjMatrix[i][x-1] != -1) && (x < 10)){
						// do nothing all values are -1 in arrayList
					}
				}
			}	
			
		}
		



		</script>
	</footer>
</html>