<!DOCTYPE html>
<html>
<head>
<!-- Jquert CDN -->

<style type="text/css">
#wrapper {
    width: 450px;
    height: 450px;
    margin-top: 30px; 
    margin-left: auto;
    margin-right: auto;
    background: #000000;
}
.row {
    width: auto;
    height: 12.5px;
    background: #313131;
}
.square {
    width: 50px;
    height: 50px;
    margin: 0px;
    outline: 1px solid;
    display: inline-block;
    float: left;
    background: #FFFFFF;
    font-size: 35px;
    text-align: center;
}
</style>



<script       src="https://code.jquery.com/jquery-3.1.1.min.js"
			  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
			  crossorigin="anonymous"></script>
</head>
<body>
	<p> Please enter the value of n, such that 0 <= n <= 9. <br> <span style="font-weight: bold;"> Please refresh the webpage before trying another value</span></p>
	<input id="grid_size"></input>
	<button onclick="get_grid_size()"> Submit </button> 
	<div id="wrapper"></div>
</body>
	<footer>
		<script type="text/javascript">
		//Defined global variables row and square


		var $row = $("<div />", {
			    class: 'row'
			});
			
		var $square = $("<div />", {
		    class: 'square'
		});

		function randNum(){
			return (Math.floor((Math.random() * 10))).toString();
		}

		function get_grid_size(){
			var n = parseInt($("#grid_size").val());

			create_grid(n);
		}

		function create_grid(n){
			/* Set size of grid depending on value of n given by user */ 


		var arrayList = new Array(n + 2);
		for (var i = 0; i < n +2; i++) {
			arrayList[i] = new Array(n + 2);
		}

		if(n == 0){
			$("#wrapper").width(0).height(0);
		}else if( n == 1){
			$("#wrapper").width(50).height(50);
		}else if( n == 2){
			$("#wrapper").width(100).height(100);
		}else if( n == 3){
			$("#wrapper").width(150).height(150);
		}else if( n == 4){
			$("#wrapper").width(200).height(200);
		}else if( n == 5){
			$("#wrapper").width(250).height(250);
		}else if( n == 6){
			$("#wrapper").width(300).height(300);
		}else if( n == 7){
			$("#wrapper").width(350).height(350);
		}else if( n == 8){
			$("#wrapper").width(400).height(400);
		}else if( n == 9){
			$("#wrapper").width(450).height(450);
		}

		var rows = n;
		var columns = n;
		var numbers = [];

		// generate random numbers for each grid point
		for(i = 1; i <= n*n; i++){
			numbers[i] = randNum();
		}

			 //add columns to the the temp row object
		$(document).ready(function () {


		    for (var i = 0; i < columns; i++) {
		    	//console.log("inside first for loop");
		        $row.append($square.clone());
		    }
		    //clone the temp row object with the columns to the wrapper
		    for (var i = 0; i < rows; i++) {
		        $("#wrapper").append($row.clone());
		    }

		    // add unique id to each index
		    $('.square').each(function(x) {
		    	//start at index 1;
		    	 x = x + 1;
    			$(this).attr('id', 'id-' + x);
    			$(this).text(numbers[x]);
			});

		  });


	 	create_array_list(arrayList, numbers, n);
		}



		function create_array_list(arrayList, numbers, n){
			var x = 1;
			var adjMatrix = new Array(n);



			// adding -1 to matrix border 
			for(var i = 0; i < n + 2 ; i++){
				for(var j = 0; j < n + 2; j++){
					if(i == 0 || i == n + 1){
						arrayList[i][j] = -1;
					}else if( j == 0 || j == n + 1){
						arrayList[i][j] = -1;
					}else{
						arrayList[i][j] = parseInt(numbers[x]);
						x = x + 1; 
					}
				}
			}
			// Now we have numbers in 2x2 array and we can search through array to look for vertex adjacency
			
		/*
			console.log("\n \n \n");
			for(var i = 0; i < n+2; i++){
				for(var j = 0; j < n+2; j++){
					console.log(arrayList[i][j]);
				}
			}

			creating adjMatrix
			for(var i=0; i < n; i++){
				for(var j=0; j < n; j++ ){
					findingNeighbors(arrayList, i, j, n);
				}
			} 

			 adjMatrix[0] = findingNeighbors(arrayList, 0, 0, n);

			  for(var j = 0; j < n * n; j++){
			  	console.log(adjMatrix[0][j]);
			  }
		*/
		}

		//will return array where indices store adjacent vertices
		function findingNeighbors(myArray, i, j, n) {
		  var count = 0;
		  var neighbors_array = new Array(n * n);
		  var rowLimit = Object.keys(myArray).length-1;
		  var columnLimit = Object.keys(myArray[0]).length-1;

		  // initialize all array index values in neighbors_array = -1
		  for(var a = 0; a < n * n; a++){
		  	neighbors_array[a] = -1; 
		  }



			for(var x = Math.max(0, i-1); x <= Math.min(i+1, rowLimit); x++) {
			    for(var y = Math.max(0, j-1); y <= Math.min(j+1, columnLimit); y++) {
			      if(x !== i || y !== j) {
			      	console.log("value of x and y = "+ x + " "+y);
			      	console.log(myArray[x][y]);
			      	neighbors_array[count] = myArray[x][y];
			      	count = count + 1;
			      }
			    } 
			}

			return neighbors_array;
		}


		</script>
	</footer>
</html>